(this.webpackJsonpprivate=this.webpackJsonpprivate||[]).push([[0],{143:function(e,t,n){e.exports={header:"styles_header__2E8Ci",logo:"styles_logo__2GR8d",nav:"styles_nav__2oC4P"}},164:function(e,t,n){e.exports={trending_wrapper:"styles_trending_wrapper__2O-hh",h1:"styles_h1__8AHTc"}},206:function(e,t,n){e.exports={"back-to-top":"styles_back-to-top__1_4V_"}},207:function(e,t,n){e.exports={section:"styles_section__3D0zX"}},418:function(e,t,n){"use strict";n.r(t);var r=n(31),c=n.n(r),a=n(32),i=n(33),s=n(30),o=n(10),l=n(423),u=n(0),j=n(29),d=n.n(j),O=n(47),b=Object.freeze({LATEST_FILMS_START_FETCHING:"LATEST_FILMS_START_FETCHING",LATEST_FILMS_STOP_FETCHING:"LATEST_FILMS_STOP_FETCHING",LATEST_FILMS_FETCHING_ERROR:"LATEST_FILMS_STOP_FETCHING",LATEST_FILMS_FILLING:"LATEST_FILMS_FILLING"}),F=Object.freeze({getLatestFilms:function(){return fetch("".concat("https://lab.lectrum.io/rtx/api/movies","/latest-movie"),{method:"GET"})}}),_=Object.freeze({startFetching:function(){return{type:b.LATEST_FILMS_START_FETCHING}},stopFetching:function(){return{type:b.LATEST_FILMS_STOP_FETCHING}},setFetchingError:function(e){return{type:b.LATEST_FILMS_FETCHING_ERROR,error:!0,payload:e}},fillLatestFilms:function(e){return{type:b.LATEST_FILMS_FILLING,payload:e}},fetchAsync:function(){return function(){var e=Object(O.a)(d.a.mark((function e(t){var n,r,c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(_.startFetching()),e.next=3,F.getLatestFilms();case 3:if(200!==(n=e.sent).status){e.next=12;break}return e.next=7,n.json();case 7:r=e.sent,c=r.data,t(_.fillLatestFilms([c])),e.next=14;break;case 12:a={status:n.status},t(_.setFetchingError(a));case 14:t(_.stopFetching());case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),f=(n(107),n(76)),h=n(421),p=n(71),I=n(60),T=n(143),m=n.n(T),E=n(6),x=function(){var e=function(){var e=Object(s.g)().pathname,t={"/films":"2","/popular-films":"3","/top-rated-films":"4","/latest-films":"5"};return"/"===e?"1":-1!==e.indexOf("/",1)?t["".concat(e.substring(0,e.indexOf("/",1)))]:t[e]}(),t=Object(p.a)(e,1)[0];return Object(E.jsxs)(h.a.Header,{className:m.a.header,children:[Object(E.jsx)("div",{className:m.a.logo}),Object(E.jsxs)(I.a,{className:m.a.nav,theme:"dark",mode:"horizontal",selectedKeys:[t],children:[Object(E.jsx)(I.a.Item,{children:Object(E.jsx)(a.b,{to:A.root,children:"Main"})},"1"),Object(E.jsx)(I.a.Item,{children:Object(E.jsx)(a.b,{to:A.films,children:"Films"})},"2"),Object(E.jsx)(I.a.Item,{children:Object(E.jsx)(a.b,{to:A.popularFilms,children:"Popular films"})},"3"),Object(E.jsx)(I.a.Item,{children:Object(E.jsx)(a.b,{to:A.topRatedFilms,children:"Top rated films"})},"4"),Object(E.jsx)(I.a.Item,{children:Object(E.jsx)(a.b,{to:A.latestFilms.url,children:"Latest film"})},"5")]})]})},v=function(){var e=(new Date).getFullYear();return Object(E.jsxs)(h.a.Footer,{style:{textAlign:"center"},children:["films-app \xa9",e]})},L=n(428),g=n(206),S=n.n(g),R=function(){return Object(E.jsx)(L.a,{children:Object(E.jsx)("div",{className:S.a["back-to-top"],children:"UP"})})},N=n(207),M=n.n(N),y=function(e){return Object(E.jsx)(h.a,{className:M.a.section,children:e.children})},P=function(){var e=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.latestFilms})),n=t.isLoading,r=t.error,c=t.latestFilms;return Object(u.useEffect)((function(){e(_.fetchAsync())}),[e]),{isLoading:n,error:r,latestFilms:c}}(),t=e.isLoading,n=e.latestFilms,r=e.error;if(t)return Object(E.jsx)(f.a,{title:"\u0412\u0438\u043a\u043e\u043d\u0443\u0454\u0442\u044c\u0441\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"});if(r)return Object(E.jsx)(f.a,{title:"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f"});var c=n&&n.map((function(e){var t=e.overview?"".concat(e.overview.substring(0,190),"..."):Object(E.jsx)("p",{children:"\u041d\u0435\u043c\u0430\u0454 \u043e\u043f\u0438\u0441\u0443 \u0434\u043b\u044f \u0434\u0430\u043d\u043e\u0433\u043e \u0444\u0456\u043b\u044c\u043c\u0443"}),n=e.poster_path?Object(E.jsx)("img",{alt:e.title,src:e.poster_path,width:150}):Object(E.jsx)("p",{children:"\u041d\u0435\u043c\u0430\u0454 \u043f\u043e\u0441\u0442\u0435\u0440\u0443 \u0434\u043b\u044f \u0434\u0430\u043d\u043e\u0433\u043e \u0444\u0456\u043b\u044c\u043c\u0443"}),r=e.release_date?e.release_date:Object(E.jsx)("p",{children:"\u0414\u0430\u0442\u0430 \u0432\u0438\u0445\u043e\u0434\u0443 \u043d\u0435 \u0432\u0438\u0437\u043d\u0430\u044f\u0447\u0435\u043d\u0430"});return Object(o.a)(Object(o.a)({},e),{},{key:e.id,overview:t,poster_path:n,release_date:r})})),a=n&&!t&&Object(E.jsx)(l.a,{dataSource:c,columns:[{title:"\u041f\u043e\u0441\u0442\u0435\u0440",dataIndex:"poster_path",key:"poster_path"},{title:"\u041d\u0430\u0437\u0432\u0430",dataIndex:"title",key:"title",align:"center",width:"10%"},{title:"\u0414\u0430\u0442\u0430 \u0440\u0435\u043b\u0456\u0437\u0443",dataIndex:"release_date",key:"release_date",align:"center",width:"10%"},{title:"\u0414\u043e\u0445\u0456\u0434\u043d\u0456\u0441\u0442\u044c",dataIndex:"revenue",key:"revenue",align:"center",width:"10%"},{title:"\u0421\u0442\u0430\u0442\u0443\u0441",dataIndex:"status",key:"status"},{title:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0456\u0441\u0442\u044c",dataIndex:"popularity",key:"popularity",align:"center",width:"10%"},{title:"\u041a\u043e\u0440\u043e\u0442\u043a\u0438\u0439 \u043e\u043f\u0438\u0441",dataIndex:"overview",key:"overview",align:"left"}],bordered:!0,rowKey:"key"});return Object(E.jsxs)(y,{children:[Object(E.jsx)(x,{}),Object(E.jsxs)(h.a.Content,{children:[Object(E.jsx)(f.a,{title:"\u041e\u0441\u0442\u0430\u043d\u0456 \u0444\u0456\u043b\u044c\u043c\u0438. \u041f\u0435\u0440\u0435\u0433\u043b\u044f\u043d\u044c\u0442\u0435 \u0432\u0441\u0456 \u043d\u043e\u0432\u0438\u043d\u043a\u0438 \u043d\u0430 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u043e\u043c\u0443 \u0440\u0438\u043d\u043a\u0443"}),a,Object(E.jsx)(R,{})]}),Object(E.jsx)(v,{})]})},w=function(){return Object(E.jsx)(P,{})},A=Object.freeze({root:"/",popularFilms:"/popular-films",films:"/films",topRatedFilms:"/top-rated-films",film:"/films/:filmId",latestFilms:{url:"/latest-films",component:w}}),C=n(424),G="https://lab.lectrum.io/rtx/api/movies",H={method:"GET",headers:{"Content-Type":"application/json"}},D=Object.freeze({getMovie:{fetch:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return fetch("".concat(G,"/movie-details/").concat(e),Object(o.a)({},H))}))},getSimilarMovies:{fetch:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return fetch("".concat(G,"/").concat(e,"/similar"),Object(o.a)({},H))}))},getRecommendationsMovies:{fetch:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return fetch("".concat(G,"/").concat(e,"/recommendations"),Object(o.a)({},H))}))},getReviewsToMovie:{fetch:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return fetch("".concat(G,"/").concat(e,"/reviews"),Object(o.a)({},H))}))},getPopularMovies:{fetch:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return fetch("".concat(G,"/popular-movies?page=").concat(e),Object(o.a)({},H))}))},getTrendingMovies:{fetch:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return fetch("".concat(G,"/trending/movie/").concat(e),Object(o.a)({},H))}))},movies:{getTopRated:function(e){return fetch("".concat(G,"/top-rated?page=").concat(e),Object(o.a)({},H))}}}),k=Object.freeze({POPULAR_FILMS_START_FETCHING:"POPULAR_FILMS_START_FETCHING",POPULAR_FILMS_STOP_FETCHING:"POPULAR_FILMS_STOP_FETCHING",POPULAR_FILMS_FILL:"POPULAR_FILMS_FILL",POPULAR_FILMS_SET_FETCHING_ERROR:"POPULAR_FILMS_SET_FETCHING_ERROR",POPULAR_FILMS_FETCH_ASYNC:"POPULAR_FILMS_FETCH_ASYNC"}),U=Object.freeze({startFetching:function(){return{type:k.POPULAR_FILMS_START_FETCHING}},stopFetching:function(){return{type:k.POPULAR_FILMS_STOP_FETCHING}},fill:function(e){return{type:k.POPULAR_FILMS_FILL,payload:e}},setFetchingError:function(e){return{type:k.POPULAR_FILMS_SET_FETCHING_ERROR,error:!0,payload:e}},fetchAsync:function(e){return function(){var t=Object(O.a)(d.a.mark((function t(n){var r,c,a,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(U.startFetching()),t.next=3,D.getPopularMovies.fetch(e);case 3:if(200!==(r=t.sent).status){t.next=12;break}return t.next=7,r.json();case 7:c=t.sent,a=c.data,n(U.fill(a)),t.next=14;break;case 12:i={status:r.status},n(U.setFetchingError(i));case 14:n(U.stopFetching());case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),z=function(){var e=Object(u.useState)(1),t=Object(p.a)(e,2),n=t[0],r=t[1];return{data:function(e){var t=Object(i.b)();Object(u.useEffect)((function(){t(U.fetchAsync(e))}),[t,e]);var n=Object(i.c)((function(e){return e.popularFilms}));return{data:n.data,isFetching:n.isFetching,error:n.error}}(n).data,currentPage:n,_setCurrentPage:function(e){e>0&&e<=100&&r(e)}}},V=n(213),W=Object(V.a)(),K=function(e){var t=e.id,n=e.filmName;return Object(E.jsx)(a.b,{to:"/films/".concat(t),children:n})},Y=function(){var e=z(),t=e.data,n=e.currentPage,r=e._setCurrentPage,c=[{title:"Poster",dataIndex:"poster_path",align:"center",render:function(e){return Object(E.jsx)(C.a,{src:e,alt:"Poster",width:150})}},{title:"Title",dataIndex:"title",align:"center",width:"20%",render:function(e,t){return Object(E.jsx)(K,{id:t.id,filmName:e})}},{title:"Popularity",dataIndex:"popularity",align:"center",width:"10%"},{title:"Vote count",dataIndex:"vote_count",align:"center",width:"8%"},{title:"Vote average",dataIndex:"vote_average",align:"center",width:"8%"},{title:"Overview",dataIndex:"overview",align:"center"}];return Object(E.jsxs)(y,{children:[Object(E.jsx)(x,{}),Object(E.jsxs)(h.a.Content,{children:[Object(E.jsx)(l.a,{columns:c,dataSource:t,pagination:{position:["bottomCenter"],pageSize:20,defaultCurrent:1,total:2e3,showSizeChanger:!1,showQuickJumper:!0},onChange:function(e){n!==e.current&&r(e.current)},title:function(){return Object(E.jsx)(f.a,{className:"site-page-header",title:"Popular films"})},bordered:!0,rowKey:"id"}),Object(E.jsx)(R,{})]}),Object(E.jsx)(v,{})]})},B=function(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(Y,{})})},J=Object.freeze({TOP_RATED_START_FETCHING:"TOP_RATED_START_FETCHING",TOP_RATED_STOP_FETCHING:"TOP_RATED_STOP_FETCHING",TOP_RATED_FILL:"TOP_RATED_FILL",TOP_RATED_SET_FETCHING_ERROR:"TOP_RATED_SET_FETCHING_ERROR"}),X=Object.freeze({startFetching:function(){return{type:J.TOP_RATED_START_FETCHING}},stopFetching:function(){return{type:J.TOP_RATED_STOP_FETCHING}},fillData:function(e){return{type:J.TOP_RATED_FILL,payload:e}},setFetchingError:function(e){return{type:J.TOP_RATED_SET_FETCHING_ERROR,error:!0,payload:e}},getTopRatedAsync:function(e){return function(){var t=Object(O.a)(d.a.mark((function t(n){var r,c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(X.startFetching()),t.next=3,D.movies.getTopRated(e);case 3:if(200===(r=t.sent).status){t.next=8;break}return n(X.setFetchingError(r.status)),n(X.stopFetching()),t.abrupt("return");case 8:return t.next=10,r.json();case 10:c=t.sent,a=c.data,n(X.fillData(a)),n(X.stopFetching());case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),Q=function(){var e=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.topRated})),n=t.data,r=t.isFetching,c=t.error,a=Object(u.useState)(1),s=Object(p.a)(a,2),o=s[0],l=s[1];return Object(u.useEffect)((function(){e(X.getTopRatedAsync(o))}),[e,o]),{data:n,isFetching:r,error:c,currentPage:o,setCurrentPage:l}}(),t=e.data,n=e.isFetching,r=e.error,c=e.currentPage,s=e.setCurrentPage;if(n)return Object(E.jsx)(f.a,{title:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"});if(r)return Object(E.jsx)(f.a,{title:"\u041e\u0448\u0438\u0431\u043a\u0430"});if(!(null===t||void 0===t?void 0:t.length))return Object(E.jsx)(f.a,{title:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a..."});var o=[{title:"\u041f\u043e\u0441\u0442\u0435\u0440",dataIndex:"poster_path",align:"center",render:function(e){return Object(E.jsx)(C.a,{src:e,alt:"image"})}},{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",dataIndex:"title, id",width:"20%",align:"center",render:function(e,t){return Object(E.jsx)(a.b,{to:"/films/".concat(t.id),children:t.title})}},{title:"\u0414\u0430\u0442\u0430 \u0440\u0435\u043b\u0438\u0437\u0430",dataIndex:"release_date",width:"8%",align:"center"},{title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0432\u0448\u0438\u0445 \u043b\u044e\u0434\u0435\u0439",dataIndex:"vote_count",width:"5%",align:"center"},{title:"\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u043e\u0446\u0435\u043d\u043a\u0430",dataIndex:"vote_average",width:"5%",align:"center"},{title:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",dataIndex:"overview"},{title:"\u0416\u0430\u043d\u0440\u044b \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u043f\u0430\u0434\u0430\u0435\u0442 \u0444\u0438\u043b\u044c\u043c",dataIndex:"genres",render:function(e){return e.map((function(e,t){return Object(E.jsx)("p",{children:e},t)}))}}];return Object(E.jsxs)(y,{children:[Object(E.jsx)(x,{}),Object(E.jsxs)(h.a.Content,{children:[Object(E.jsx)(l.a,{onChange:function(e){return s(e.current)},columns:o,dataSource:t,bordered:!0,rowKey:"id",pagination:{current:c,defaultCurrent:1,pageSize:20,showSizeChanger:!1,total:2e3}}),Object(E.jsx)(R,{})]}),Object(E.jsx)(v,{})]})},$=function(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(Q,{})})},q=n(164),Z=n.n(q),ee=Object.freeze({TRENDING_FILMS_START_FETCHING:"TRENDING_FILMS_START_FETCHING",TRENDING_FILMS_STOP_FETCHING:"TRENDING_FILMS_STOP_FETCHING",TRENDING_FILMS_FILL_STATE:"TRENDING_FILMS_FILL_STATE",TRENDING_FILMS_SET_FETCHING_ERROR:"TRENDING_FILMS_SET_FETCHING_ERROR",TRENDING_FILMS_FETCH_ASYNC:"TRENDING_FILMS_FETCH_ASYNC"}),te=ee.TRENDING_FILMS_START_FETCHING,ne=ee.TRENDING_FILMS_STOP_FETCHING,re=ee.TRENDING_FILMS_FILL_STATE,ce=ee.TRENDING_FILMS_SET_FETCHING_ERROR,ae=Object.freeze({startFetching:function(){return{type:te}},stopFetching:function(){return{type:ne}},fillState:function(e){return{type:re,payload:e}},setFetchingError:function(e){return{type:ce,error:!0,payload:e}},fetchAsync:function(e){return function(){var t=Object(O.a)(d.a.mark((function t(n){var r,c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ae.startFetching),t.next=3,D.getTrendingMovies.fetch(e);case 3:if(200!==(r=t.sent).status){t.next=11;break}return t.next=7,r.json();case 7:c=t.sent,n(ae.fillState(c)),t.next=13;break;case 11:a="Error ".concat(r.status," = ").concat(r.statusText),n(ae.setFetchingError(a));case 13:n(ae.stopFetching());case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),ie=n(165),se=n(430),oe=ie.a.TabPane,le=se.a.Meta,ue=function(){var e=Object(i.b)();Object(u.useEffect)((function(){e(ae.fetchAsync("day"))}),[e]);var t=Object(i.c)((function(e){return e.trending})).data,n=function(e){if(Array.isArray(e))return Object(E.jsx)("div",{className:Z.a.trending_wrapper,children:e.map((function(e,t){return Object(E.jsx)(a.b,{to:"/films/".concat(null===e||void 0===e?void 0:e.id),children:Object(E.jsx)(se.a,{title:e.title,hoverable:!0,style:{width:200},cover:Object(E.jsx)("img",{alt:"poster",src:e.poster_path}),children:Object(E.jsx)(le,{title:e.overview,description:e.release_year,style:{overflow:"scroll"}})})},"film_".concat(t))}))})};return Object(E.jsxs)(y,{children:[Object(E.jsx)(x,{}),Object(E.jsxs)(h.a.Content,{children:[Object(E.jsx)("h1",{className:Z.a.h1,children:"TRENDING MOVIES"}),Object(E.jsxs)(ie.a,{defaultActiveKey:"day",centered:!0,onTabClick:function(t){e(ae.fetchAsync(t))},children:[Object(E.jsx)(oe,{tab:"\u0417\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f",children:n(t)},"day"),Object(E.jsx)(oe,{tab:"\u0417\u0430 \u043d\u0435\u0434\u0435\u043b\u044e",children:n(t)},"week")]}),Object(E.jsx)(R,{})]}),Object(E.jsx)(v,{})]})},je=function(){return Object(E.jsx)(ue,{})},de=n(425),Oe=n(212),be=Object.freeze({START_FETCHING:"[FILM] - START_FETCHING",STOP_FETCHING:"[FILM] - STOP_FETCHING",SELECTED_FILM_FILL:"[FILM] - SELECTED_FILM_FILL",REVIEWS_FILL:"[FILM] - REVIEWS_FILL",SIMILAR_FILMS_FILL:"[FILM] - SIMILAR_FILMS_FILL",RECOMMENDATION_FILMS_FILL:"[FILM] - RECOMMENDATION_FILMS_FILL",MOST_POPULAR_FILM_FILL:"[FILM] - MOST_POPULAR_FILM_FILL",SET_FETCHING_ERROR:"[FILM] - SET_FETCHING_ERROR",FILM_CLEAN:"[FILM] - FILM_CLEAN",GET_SELECTED_FILM:"[FILM] - GET_SELECTED_FILM",GET_REVIEWS:"[FILM] - GET_REVIEWS",GET_SIMILAR_FILMS:"[FILM] - GET_SIMILAR_FILMS",GET_RECOMMENDATION_FILMS:"[FILM] - GET_RECOMMENDATION_FILMS",GET_MOST_POPULAR_FILM:"[FILM] - GET_MOST_POPULAR_FILM"}),Fe=Object.freeze({startFetching:function(){return{type:be.START_FETCHING}},stopFetching:function(){return{type:be.STOP_FETCHING}},selectedFilmFill:function(e){return{type:be.SELECTED_FILM_FILL,payload:e}},reviewsFill:function(e){return{type:be.REVIEWS_FILL,payload:e}},similarFilmsFill:function(e){return{type:be.SIMILAR_FILMS_FILL,payload:e}},recommendationFilmsFill:function(e){return{type:be.RECOMMENDATION_FILMS_FILL,payload:e}},mostPopularFilmFill:function(e){return{type:be.MOST_POPULAR_FILM_FILL,payload:e}},setFetchingError:function(e){return{type:be.SET_FETCHING_ERROR,error:!0,payload:e}},filmClean:function(){return{type:be.FILM_CLEAN}},getSelectedFilm:function(e){return function(){var t=Object(O.a)(d.a.mark((function t(n){var r,c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Fe.startFetching()),t.next=4,D.getMovie.fetch(e);case 4:if((r=t.sent).ok){t.next=7;break}throw new Error("Something went wrong");case 7:return t.next=9,r.json();case 9:c=t.sent,a=c.data,n(Fe.selectedFilmFill(a)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),n(Fe.setFetchingError(t.t0));case 17:return t.prev=17,n(Fe.stopFetching()),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[0,14,17,20]])})));return function(e){return t.apply(this,arguments)}}()},getReviews:function(e){return function(){var t=Object(O.a)(d.a.mark((function t(n){var r,c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Fe.startFetching()),t.next=4,D.getReviewsToMovie.fetch(e);case 4:if((r=t.sent).ok){t.next=7;break}throw new Error("Something went wrong");case 7:return t.next=9,r.json();case 9:c=t.sent,a=c.data,n(Fe.reviewsFill(a)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),n(Fe.setFetchingError(t.t0));case 17:return t.prev=17,n(Fe.stopFetching()),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[0,14,17,20]])})));return function(e){return t.apply(this,arguments)}}()},getSimilarFilms:function(e){return function(){var t=Object(O.a)(d.a.mark((function t(n){var r,c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Fe.startFetching()),t.next=4,D.getSimilarMovies.fetch(e);case 4:if((r=t.sent).ok){t.next=7;break}throw new Error("Something went wrong");case 7:return t.next=9,r.json();case 9:c=t.sent,a=c.data,n(Fe.similarFilmsFill(a)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),n(Fe.setFetchingError(t.t0));case 17:return t.prev=17,n(Fe.stopFetching()),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[0,14,17,20]])})));return function(e){return t.apply(this,arguments)}}()},getRecommendationFilms:function(e){return function(){var t=Object(O.a)(d.a.mark((function t(n){var r,c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Fe.startFetching()),t.next=4,D.getRecommendationsMovies.fetch(e);case 4:if((r=t.sent).ok){t.next=7;break}throw new Error("Something went wrong");case 7:return t.next=9,r.json();case 9:c=t.sent,a=c.data,n(Fe.recommendationFilmsFill(a)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),n(Fe.setFetchingError(t.t0));case 17:return t.prev=17,n(Fe.stopFetching()),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[0,14,17,20]])})));return function(e){return t.apply(this,arguments)}}()},getMostPopuparFilm:function(){return function(){var e=Object(O.a)(d.a.mark((function e(t){var n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Fe.startFetching()),e.next=4,D.getPopularMovies.fetch(1);case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("Something went wrong");case 7:return e.next=9,n.json();case 9:r=e.sent,c=r.data,t(Fe.mostPopularFilmFill(c[0])),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),t(Fe.setFetchingError(e.t0));case 17:return e.prev=17,t(Fe.stopFetching()),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(t){return e.apply(this,arguments)}}()}}),_e=n(96),fe=n(56),he=n(429),pe=function(e){var t,n,r,c,a,i=e.film,s=(null===i||void 0===i?void 0:i.genres.length)>0?null===i||void 0===i?void 0:i.genres.join("; "):"";return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(_e.a,{justify:"center",align:"center",children:Object(E.jsx)(fe.a,{span:12,offset:6,children:Object(E.jsx)(C.a,{preview:!1,alt:null===i||void 0===i?void 0:i.title,src:null!==(t=null===i||void 0===i?void 0:i.poster_path)&&void 0!==t?t:"",width:250})})}),Object(E.jsxs)(he.b,{labelStyle:{textAlign:"left"},title:null===i||void 0===i?void 0:i.title,layout:"horizontal",column:2,bordered:!0,children:[Object(E.jsx)(he.b.Item,{span:2,label:"Genres",children:s}),Object(E.jsx)(he.b.Item,{label:"Status",children:null===i||void 0===i?void 0:i.status}),Object(E.jsx)(he.b.Item,{label:"Release Date",children:null!==(n=null===i||void 0===i?void 0:i.release_date)&&void 0!==n?n:""}),Object(E.jsx)(he.b.Item,{label:"Average Score",children:null!==(r=null===i||void 0===i?void 0:i.vote_average)&&void 0!==r?r:""}),Object(E.jsx)(he.b.Item,{label:"Vote Count",children:null!==(c=null===i||void 0===i?void 0:i.vote_count)&&void 0!==c?c:""}),Object(E.jsx)(he.b.Item,{span:2,label:"Overview",children:null!==(a=null===i||void 0===i?void 0:i.overview)&&void 0!==a?a:""})]})]})},Ie=n(426),Te=n(431),me=n(432),Ee=function(e){var t=e.film;return Object(E.jsxs)(_e.a,{gutter:16,children:[Object(E.jsx)(fe.a,{span:8,children:Object(E.jsx)(se.a,{children:Object(E.jsx)(Ie.a,{title:"Popularity",precision:2,valueStyle:{color:"#3F7CE1"},prefix:Object(E.jsx)(Te.a,{}),value:Number(null===t||void 0===t?void 0:t.popularity).toLocaleString()||""})})}),Object(E.jsx)(fe.a,{span:8,children:Object(E.jsx)(se.a,{children:Object(E.jsx)(Ie.a,{title:"Budget",precision:0,valueStyle:{color:"#28d7b5"},prefix:Object(E.jsx)(me.a,{}),value:Number(null===t||void 0===t?void 0:t.budget).toLocaleString()||""})})}),Object(E.jsx)(fe.a,{span:8,children:Object(E.jsx)(se.a,{children:Object(E.jsx)(Ie.a,{title:"Revenue",precision:0,valueStyle:{color:"#10C1BC"},prefix:Object(E.jsx)(me.a,{}),value:Number(null===t||void 0===t?void 0:t.revenue).toLocaleString()||""})})})]})},xe=n(59),ve=n(427),Le=function(){var e=function(){var e,t=Object(i.c)((function(e){return e.film})),n=t.recommendationFilms,r=t.mostPopularFilm,c=n.sort((function(e,t){return t.popularity-e.popularity})),a=(null===r||void 0===r?void 0:r.popularity)||(null===(e=c[0])||void 0===e?void 0:e.popularity),s=c.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{popularity:(null===e||void 0===e?void 0:e.popularity)/a*5})}));return{topRecommendationFilms:s.length>5?s.slice(0,5):Object(xe.a)(s)}}().topRecommendationFilms,t=[{title:"Poster",dataIndex:"poster_path",align:"center",render:function(e){return Object(E.jsx)(C.a,{src:e,alt:"Poster",width:100})}},{title:"Title",dataIndex:"title",align:"center",width:"20%",render:function(e,t){return Object(E.jsx)(a.b,{to:"/films/".concat(t.id),children:e})}},{title:"Popularity",dataIndex:"popularity",align:"center",width:"10%",render:function(e){return Object(E.jsx)(ve.a,{allowHalf:!0,value:e})}},{title:"Release Date",dataIndex:"release_date",align:"center",width:"10%"},{title:"Overview",dataIndex:"overview",align:"center"}];return Object(E.jsx)(l.a,{columns:t,dataSource:e,pagination:!1,title:function(){return Object(E.jsx)(f.a,{className:"site-page-header",title:"Recommendation films"})},bordered:!0,rowKey:"id"})},ge=n(217),Se=n.n(ge),Re=n(158),Ne=n.n(Re),Me=n(135),ye=n.n(Me),Pe=function(){var e=function(){var e=Object(i.c)((function(e){return e.film})).similarFilms.sort((function(e,t){return t.popularity-e.popularity}));return{topSimilarFilms:e.length>5?e.slice(0,5):Object(xe.a)(e)}}().topSimilarFilms;return Object(E.jsxs)("section",{children:[Object(E.jsx)("h2",{children:"Similar Films"}),Object(E.jsx)(ye.a,{grid:{gutter:16,column:5},dataSource:e,renderItem:function(e){return Object(E.jsx)(a.b,{to:"/films/".concat(null===e||void 0===e?void 0:e.id),children:Object(E.jsx)(ye.a.Item,{children:Object(E.jsx)(Se.a,{hoverable:!0,title:e.title,cover:Object(E.jsx)("img",{alt:e.title,src:e.poster_path}),children:Object(E.jsx)(Ne.a,{description:e.overview,title:e.release_date})})})})}})]})},we=n(422),Ae=n(222),Ce=n(433),Ge=function(e){var t=e.reviews,n=function(){var e=Object(u.useState)(1),t=Object(p.a)(e,2);return{currentPage:t[0],setCurrentPage:t[1]}}(),r=n.currentPage,c=n.setCurrentPage;return Object(E.jsxs)("section",{children:[Object(E.jsx)("h2",{children:"Reviews"}),t&&t.map((function(e){return Object(E.jsx)(we.a,{author:Object(E.jsx)("h3",{children:e.author}),avatar:Object(E.jsx)(Ce.a,{}),content:Object(E.jsx)("p",{children:e.content})},e.id)})),t.length>10&&Object(E.jsx)(Ae.a,{current:r,total:t.length-1,onChange:function(e){return c(e)},showSizeChanger:!1})]})},He=function(){var e=function(e){var t=Object(i.b)(),n=Object(i.c)((function(e){return e.film})),r=n.selectedFilm,c=n.reviews,a=n.similarFilms,s=n.recommendationFilms,o=n.mostPopularFilm,l=n.isFetching,j=n.error,d=Object(u.useCallback)((function(){t(Fe.getSelectedFilm(e)),t(Fe.getReviews(e)),t(Fe.getSimilarFilms(e)),t(Fe.getRecommendationFilms(e)),o||t(Fe.getMostPopuparFilm())}),[e]);return Object(u.useEffect)((function(){d()}),[d]),{selectedFilm:r,reviews:c,similarFilms:a,recommendationFilms:s,isFetching:l,error:j}}(Object(s.h)().filmId),t=e.selectedFilm,n=e.reviews,r=e.isFetching,c=e.error;return c?Object(E.jsxs)(y,{children:[Object(E.jsx)(x,{}),Object(E.jsx)(h.a.Content,{children:Object(E.jsx)(de.a,{message:"Error",description:c.message,type:"error",closable:!0})}),Object(E.jsx)(v,{})]}):Object(E.jsxs)(y,{children:[Object(E.jsx)(x,{}),Object(E.jsx)(h.a.Content,{children:r?Object(E.jsx)(Oe.a,{size:"large"}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(pe,{film:t}),Object(E.jsx)(Ee,{film:t}),Object(E.jsx)(Ge,{reviews:n}),Object(E.jsx)(Pe,{}),Object(E.jsx)(Le,{})]})}),Object(E.jsx)(R,{}),Object(E.jsx)(v,{})]})},De=function(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(He,{})})},ke=function(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(s.d,{children:[Object(E.jsx)(s.b,{exact:!0,path:A.root,children:Object(E.jsx)(je,{})}),Object(E.jsx)(s.b,{exact:!0,path:A.films,children:Object(E.jsx)(s.a,{to:A.topRatedFilms})}),Object(E.jsx)(s.b,{exact:!0,path:A.topRatedFilms,children:Object(E.jsx)($,{})}),Object(E.jsx)(s.b,{exact:!0,path:A.popularFilms,children:Object(E.jsx)(B,{})}),Object(E.jsx)(s.b,{path:A.film,children:Object(E.jsx)(De,{})}),Object(E.jsx)(s.b,{exact:!0,path:A.latestFilms.url,children:Object(E.jsx)(w,{})})]})})},Ue=n(62),ze=ee.TRENDING_FILMS_START_FETCHING,Ve=ee.TRENDING_FILMS_STOP_FETCHING,We=ee.TRENDING_FILMS_FILL_STATE,Ke=ee.TRENDING_FILMS_SET_FETCHING_ERROR,Ye={},Be={data:null,isFetching:!1,error:null},Je={selectedFilm:null,mostPopularFilm:null,reviews:[],similarFilms:[],recommendationFilms:[],isFetching:!1,error:null},Xe={data:null,isFetching:!1,error:null},Qe={latestFilms:null,isLoading:!1,error:null},$e=Object(Ue.c)({popularFilms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case k.POPULAR_FILMS_START_FETCHING:return Object(o.a)(Object(o.a)({},e),{},{isFetching:!0});case k.POPULAR_FILMS_STOP_FETCHING:return Object(o.a)(Object(o.a)({},e),{},{isFetching:!1});case k.POPULAR_FILMS_SET_FETCHING_ERROR:return Object(o.a)(Object(o.a)({},e),{},{error:r,data:null});case k.POPULAR_FILMS_FILL:return Object(o.a)(Object(o.a)({},e),{},{data:r,error:null});default:return e}},film:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case be.START_FETCHING:return Object(o.a)(Object(o.a)({},e),{},{isFetching:!0});case be.STOP_FETCHING:return Object(o.a)(Object(o.a)({},e),{},{isFetching:!1});case be.SET_FETCHING_ERROR:return Object(o.a)(Object(o.a)({},e),{},{error:r,selectedFilm:null,mostPopularFilm:null,reviews:[],similarFilms:[],recommendationFilms:[]});case be.SELECTED_FILM_FILL:return Object(o.a)(Object(o.a)({},e),{},{error:null,selectedFilm:r});case be.REVIEWS_FILL:return Object(o.a)(Object(o.a)({},e),{},{reviews:Object(xe.a)(r)});case be.SIMILAR_FILMS_FILL:return Object(o.a)(Object(o.a)({},e),{},{similarFilms:Object(xe.a)(r)});case be.RECOMMENDATION_FILMS_FILL:return Object(o.a)(Object(o.a)({},e),{},{recommendationFilms:Object(xe.a)(r)});case be.MOST_POPULAR_FILM_FILL:return Object(o.a)(Object(o.a)({},e),{},{mostPopularFilm:r});case be.FILM_CLEAN:return Object(o.a)(Object(o.a)({},e),{},{selectedFilm:null,mostPopularFilm:null,reviews:[],similarFilms:[],recommendationFilms:[],isFetching:!1,error:null});default:return e}},trending:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case ze:return Object(o.a)(Object(o.a)({},e),{},{isFetching:!0});case Ve:return Object(o.a)(Object(o.a)({},e),{},{isFetching:!1});case We:return Object(o.a)(Object(o.a)({},e),{},{data:r.data,error:null});case Ke:return Object(o.a)(Object(o.a)({},e),{},{data:null,error:!0});default:return e}},topRated:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case J.TOP_RATED_START_FETCHING:return Object(o.a)(Object(o.a)({},e),{},{isFetching:!0});case J.TOP_RATED_STOP_FETCHING:return Object(o.a)(Object(o.a)({},e),{},{isFetching:!1});case J.TOP_RATED_SET_FETCHING_ERROR:return Object(o.a)(Object(o.a)({},e),{},{error:r,data:null});case J.TOP_RATED_FILL:return Object(o.a)(Object(o.a)({},e),{},{data:r,error:null});default:return e}},latestFilms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case b.LATEST_FILMS_START_FETCHING:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case b.LATEST_FILMS_FETCHING_ERROR:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,error:r});case b.LATEST_FILMS_STOP_FETCHING:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1});case b.LATEST_FILMS_FILLING:return Object(o.a)(Object(o.a)({},e),{},{latestFilms:r,error:null});default:return Object(o.a)({},e)}}}),qe=n(218),Ze=n(219),et=(Object(qe.createLogger)({duration:!0,collapsed:!0,colors:{title:function(e){return e.error?"firebrick":"deepskyblue"},prevState:function(){return"#1C5FAF"},action:function(){return"#149945"},nextState:function(){return"#A47104"},error:function(){return"#ff0005"}}}),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,Ue.d),tt=[Ze.a];var nt=Object(Ue.e)($e,et(Ue.a.apply(void 0,Object(xe.a)(tt)))),rt=function(){return Object(E.jsx)(i.a,{store:nt,children:Object(E.jsx)(a.a,{history:W,children:Object(E.jsx)(ke,{})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(E.jsx)(rt,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[418,1,2]]]);
//# sourceMappingURL=main.8d20e0c8.chunk.js.map